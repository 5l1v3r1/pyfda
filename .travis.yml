language: python
python:
 - "2.7"
 # - "3.3"

before_install:
  - uname -a
  - free -m
  - df -h
  - ulimit -a
  
  - sudo mkdir -p /downloads
  - sudo chmod a+rw /downloads
  - curl -L https://sourceforge.net/projects/pyqt/files/PyQt4/PyQt-4.12/PyQt4_gpl_x11-4.12.tar.gz -o downloads/pyqt4.tar.gz
  #- curl -L http://sourceforge.net/projects/pyqt/files/PyQt4/PyQt-4.11.3/PyQt-x11-gpl-4.11.3.tar.gz -o /downloads/pyqt4.tar.gz
  # Builds
  - sudo mkdir -p /builds
  - sudo chmod a+rw /builds
  
  # Qt4
  - pushd /builds
  
  # PyQt4
  - tar xzf /downloads/pyqt4.tar.gz --keep-newer-files
  - pushd PyQt4_gpl_x11-4.12 # .tar
  - python configure.py -c --confirm-license --no-designer-plugin -e QtCore -e QtGui -e QtTest
  - make
  - sudo make install
  - popd
    
  - pip install -U pip wheel setuptools
  - pip install numpy nose six docutils matplotlib
  - pip install -v -U scipy
  - python -V

install: pip install .

script: nosetests

